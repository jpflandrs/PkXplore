# PkXplore
## In short
This is a small explorer of the phylogeny of Bacteria and Archaea (aka Prokaryotes, Pk) based on the nucleic sequences of some rDNA genes (16S only in this demontration).

The whole project will include 23S and 5S rDNA and some frequently nucleic sequences databases of proteins like DNA-directed RNA polymerase β (rpoB) and Elongation Factor Tu (tuf) or groEL chaperonins.

A version devoted to protein will appear if I have some time left.

Note that the program is still in developpment even if it is fully functionnal.

## Aim
- The website is oriented toward teaching/learning the basic use of phylogeny
	- to quickly and easily discover the various phases of a phylogenetic study
 	- and then, as all the produced data are downloadable the same process can be done again with other methods
  	- as an application, to discover the relations between Bacteria and Archaea species.
- It is also a way to explain some aspect of the analysis of bacteria communities (metagenome analysis).
  
- In the lab it is used to quickly select a putative taxonomy level when required in a given program (typically to document the PGAP yaml file). 
- We use it also to understand the taxonomy discrepencies between various methods before using more sophisticated but also more complex methods like MSA/Core genome phylogeny.
- For us it is also a way to quickly know the density of the genomes in RefSeq around a given target.
  
## Limitations
- The exploratory process is done by using _one_sequence only
- In this version the 23S database has not been given, and there are no protein databases (but the final version expected soon will contain them)
- The information layer on taxonomy is missing and will be added later
  
## Julia installation
Clone the project and launch 

``julia --project``

``using GenieFramework; Genie.loadapp(); up()``


The server will start at http://localhost:8000/reactive

Of course 
export GENIE_ENV=prod  may increase the reactivity but if some problems arise you lose the logs

## Docker version
### Easy deployment
As this is a version including the rDNA database, the creation is easy

``docker build . -t pkxplore ``

``docker run  -p 8000:8000 pkxplore``


### Deploy with BLAST (the database) and public (the users results) outside Docker
-  place the BLAST and public and log directories in some distant place
-  run and use the "bind" method in Docker

  ``docker run  -it \``
  
  ``-p 8000:8000  \``
  
``--mount type=bind,src=/pathto/BLAST,target=/BLAST \``

``--mount type=bind,source=/pathto/public,target=/public \``

``--mount type=bind,source=/pathto/log,target=/log \``

``pkxplore``

## Testing
Here some sequences to test the website 
You may find more on the NCBI site.
Note that, if missing, the ">" must be added at the beginning
------
Uncultured bacterium 16S ribosomal RNA gene, partial sequence.
PopSet: 646115884
PopSet GenBank
	•	Sequences
Study Details
Community Analysis of Biomass-Degrading Microorganisms from Obsidian Pool, Yellowstone National Park
Vishnivetskaya,T.A., Poder,M., Hamilton-Brehm,S.D., Mosher,J.J., Palumbo,A.V., Phelps,T.J., Keller,M. and Elkins,J.G.


``>gi|646115884|gb|KJ479277.1| Uncultured bacterium clone A5521a05 16S ribosomal RNA gene, partial sequence
GGACGAACGCTGGCGGCGTGCCTAACACATGCAAGTCGAGCGGAGGGGATAGGAGCTTGCTTCTTGAACC
TCAGCGGCGGACGGGTGAGTAACACGTGGGTAACCTGCCCTTGAGAGGGGGATAACAGGTCGAAAGGCCT
GCTAATACCGCATAACGCTAAGAAGCTGCATGGCGTCTTAGCCAAAGGTTAATTCCGCTCAAGGATGGGC
CCGCGGCCCCATTAGCTAGTTGGTGAGGTAATGGCTCACCAAGGCGACGATGGGTAGCCGGCCTGAGAGG
GTGGTCGGCCACACTGGGGACTGAGACACGGCCCAGACTCCTACGGGAGGCAGCAGTGGGGAATATTGCG
CAATGGGGGAAACCCTGACGCAGCGACGCCGCGTGAGCGATGAAGGCCTTCGGGTTGTAAAGCTCTGTCT
TCCCTGACGATAATGACGGTAAGGGAGGAGGAAGCCACGGCTAACTACGTGCCAGCAGCCGCGGTAATAC
GTAGGTGGCGAGCGTTGTCCGGAATTACTGGGCGTAAAGGGTGCGTAGGCGGCTCTTTAAGTGGGATGTG
AAATCCCTGGGCTCAACCCAGGAACTGCATTCCAAACTGGAGAGCTAGAGTGCAGGAGAGGAAAGCGGAA
TTCCCAGTGTAGCGGTGAAATGCGTAGAGATTGGGAGGAACACCAGTGGCGAAGGCGGCTTTCTGGACTG
TAACTGACGCTGAGGCACGAAAGCGTGGGGAGCAAACAGGATTAGATACCCTGGTAGTCCACGCTGTAAA
CGATGGGTACTAGGTGTAGGGGGCGAAGCCCTTTGGGCCCGCAGCTAACGCATTAAGTACCCCGCCTGGG
GAGTACGGTCGCAAGATTAAAACTCAAAGGAATTGACGGGGGCCCGCACAAGCAGCGGAGCATGTGGTTT
AATTCGAAGCAACGCGAAGAACCTTACCAGGGCTTGACATCCACCGAACCCTGTGGAAACACGGGGGTGC
CCTTCGGGGGAACGGTGAGACAGGTGGTGCATGGTTGTCGTCAGCTCGTGTCGTGAGATGTTGGGTTAAG
TCCCGCAACGAGCGCAACCCTTGCCTTTAGTTGCCAGCAATTCGGTTGGGCACTCTAGAGGGACTGCCTG
GGTTAACCAGGAGGAAGGTGGGGATGACGTCAAATCATCATGCCCCTTGTGCTCTGGGCTACACACGTGC
TACAATGGCCGGTACAATGAGTTGCAAACCCGCGAGGGGGAGCTAATCTCAAAAACCGGTCCCCAGTTCG
GATTGTAGGCTGCAACTCGCCTACATGAAGCTGGAGTTGCTAGTAATCGCGGATCAGCATGCCGCGGTGA
ATACGTTCCCGGGCCTTGTACACACCGCCCGTCACACCATGAGAGCCGGCAACCACCCGAAGCCGAGTGG
GCTAACCCGCAAAGGGAGGCTAGCTGTCGAAGGTGGGGCTGGTGATTGGGGT``

>gi|646115885|gb|KJ479278.1| Uncultured bacterium clone A5521a08 16S ribosomal RNA gene, partial sequence
GGACGAACGCTGGCGGCGTGCCTAACACATGCAAGTCGAGCGATATGGAGGTTGGATGTTATAGGTTAGA
GGTTTGAATAGAAGAAATTCCTACGGAATTTCAACAAGTATCCAACTTCTAATTTCCAACATCTAACCTC
TATATAGCGGCGGACGGGTGAGTAACACGTGGGTAACCTGCCCTTGAGAGGGGGATAACAGGTCGAAAGG
CCTGCTAATACCGCATAATGCTAAGAAGCTGCATGGCGTCTTAGCCAAAGGTTAATTCCGCTCAAGGATG
GGCCCGCGGCCCATTAGCTAGTTGGTGAGGTAATGGCTCACCAAGGCGACGATGGGTAGCCGGCCTGAGA
GGGTGGTCGGCCACACTGGGACTGAGACACGGCCCAGACTCCTACGGGAGGCAGCAGTGGGGAATATTGC
GCAATGGGGGAAACCCTGACGCAGCGACGCCGCGTGAGCGATGAAGGCCTTCGGGTTGTAAAGCTCTGTC
TTCCCTGACGATAATGACGGTAAGGGAGGAGGAAGCCACGGCTAACTACGTGCCAGCAGCCGCGGTAATA
CGTAGGTGGCGAGCGTTGTCCGGAATTACTGGGCGTAAAGGGTGCGTAGGCGGCTCTTTAAGTGGGATGT
GAAATCCCTGGGCTCAACCCAGGAACTGCATTCCAAACTGGAGAGCTAGAGTGCAGGAGAGGAAAGCGGA
ATTCCCAGTGTAGCGGTGAAATGCGTAGAGATTGGGAGGAACACCAGTGGCGAAGGCGGCTTTCTGGACT
GTAACTGACGCTGAGGCACGAAAGCGTGGGGAGCAAACAGGATTAGATACCCTGGTAGTCCACGCTGTAA
ACGATGGGTACTAGGTGTAGGGGGCGAAGCCCTCTGTGCCCGCAGCTAACGCATTAAGTACCCCGCCTGG
GGAGTACGGTCGCAAGATTAAAACTCAAAGGAATTGACGGGGGCCCGCACAAGCAGCGGAGCATGTGGTT
TAATTCGAAGCAACGCGAAGAACCTTACCAGGGCTTGACATCCACCGAACCCTGTGGAAACACGGGGGTG
CCCTTCGGGGAACGGTGAGACAGGTGGTGCATGGTTGTCGTCAGCTCGTGTCGTGAGATGTTGGGTTAAG
TCCCGCAACGAGCGCAACCCTTGCCTTTAGTTGCCAGCAATTCGGTTGGGCACTCTAGAGGGACTGCCTG
GGTTAACCAGGAGGAAGGTGGGGATGACGTCAAATCATCATGCCCCTTATGCTCTGGGCTACACACGTGC
TACAATGGCCGGTACAATGAGTTGCAAACCCGCGAGGGGGAGCTAATCTCAAAAACCGGTCCCAGTTCGG
ATTGTAGGCTGCAACTCGCCTACATGAAGCTGGAGTTGCTAGTAATCGCGGATCAGCATGCCGCGGTGAA
TACGTTCCCGGGCCTTGTACACACCGCCCGTCACACCATGAGAGCCGGCAACACCCGAAGCCAGTGGGCT
AACCCGCAAGGGAGGCAGCTGTCGAAGGTGGGGCTGGTGATTGGGGTGA

>gi|646115886|gb|KJ479279.1| Uncultured bacterium clone A5521a12 16S ribosomal RNA gene, partial sequence
GGACGAACGCTGGCGGCGTGCCTAACACATGCAAGTCAAGCGGAGGGGATAGGAGCTTGCTTCTTGAACC
TCAGCGGCGGACGGGTGAGTAACACGTGGGTAACCTGCCCTTGAGAGGGGGATAACAGGTCGAAAGGCCT
GCTAATACCGCATAACGCTAAGAAGCTGCATGGCGTCTTAGCCAAAGGTTAATTCCGCTCAAGGATGGGC
CCGCGGCCCCATTAGCTAGTTGGTGAGGTAATGGCTCACCAAGGCGACGATGGGTAGCCGGCCTGAGAGG
GTGGTCGGCCACACTGGGACTGAGACACGGCCCAGACTCCTACGGGAGGCAGCAGTGGGGAATATTGCGC
AATGGGGGAAACCTCTGACGCAGCGACGCCGCGTGAGCGATGAAGGCTCTTCGGGTTGTAAAAGCTCTGT
CTTCCCTGACGATAATGACGGTAAGGGAGGAGGAAAGCCCACGGCTAACTACGTGCCCAGCAGCCGCGGT
AATACGTAGGTGGCGAGCGTTGTCCGGAATTACTGGGCGTAAAGGGTGCGTAGGCGGCTCTTTAAGTGGG
ATGTGAAATCCCTGGGCTCAACCCAGGAACTGCATTCCAAGCTGGAGAGCTAGAGTGCAGGAGAGGAAAG
CGGAATTCCCAGTGTAGCGGTGAAATGCGTAGAGATTGGGAGGAACACCAGTGGCGAAGGCGGCTTTCTG
GACTGTAACTGACGCTGAGGCACGAAAGCGTGGGGAGCAAACAGGATTAGATACCCTGGTAGTCCACGCT
GTAAACGATGGGTACTAGGTGTAGGGGGCGAAGCTCTCTGTGCCGCAGCTAACGCATTAAGTACCCCGCC
TGGGGAGTACGGTCGCAAGATTAAAACTCAAAGGAATTGACGGGGGCCCGCACAAGCAGCGGAGCATGTG
GTTTAATTCGAAGCAACGCGAAGAACCTTACCAGGGCTTGACATCCACCGAACCCTGTGGAAACACGGGG
GTGCCCTTCGGGGAACGGTGAGACAGGTGGTGCATGGTTGTCGTCAGCTCGTGTCGTGAGATGTTGGGTT
AAGTCCCGCAACGAGCGCAACCCTTGCCTTTAGTTGCCAGCAATTCGGTTGGGCACTCTAGAGGGACTGC
CTGGGTTAACCAGGAGGAAGGTGGGGATGACGTCAAATCATCATGCCCCTTATGCTCTGGGCTACACACG
TGCTACAATGGCCGGTACAATGAGTTGCAAACCCGCGAGGGGGAGCTAATCTCAAAAACCGGTCCCAGTT
CGGATTGTAGGCTGCAACTCGCCTACATGAAGCTGGAGTTGCTAGTAATCGCGGATCAGCATGCCGCGGT
GAATACGTTCCCGGGCCTTGTACACACCGCCCGTCACACCATGAGAGCCGGCAACACCCGAAGCCAGTGG
GCTAACCCGCAAGGGAGGCAGCTGTCGAAGGTGGGGCTGGTGATTGGGGT

>gi|646115887|gb|KJ479280.1| Uncultured bacterium clone A5521b01 16S ribosomal RNA gene, partial sequence
ACGAACGCTGGCGGCGTGCCTAACACATGCAAGTCGAGCGGAGGGGAAAGGAGCTTGCTTCTTGAACCTC
AGCGGCGGACGGGTGAGTAACACGTGGGTAACCTGCCCTTGAGAGGGGGATAACAGGTCGAAAGGCCTGC
TAATACCGCATAACGCTAAGAAGCTGCATGGCGTCTTAGCCAAAGGTTAATTCCGCTCAAGGATGGGCCC
GCGGCCCCATTAGCTAGTTGGTGAGGTAATGGCTCACCAAGGCGACGATGGGTAGCCGGCCTGAGAGGGT
GGTCGGCCACACTGGGACTGAGACACGGCCCAGACTCCTACGGGAGGCAGCAGTGGGGAATATTGCGCAA
TGGGGGAAACCCTGACGCAGCGACGCCGCGTGAGCGATGAAGGCCTTCGGGTTGTAAAGCTCTGTCTTCC
CTGACGATAATGACGGTAAGGGAGGAGGAAGCCACGGCTAACTACGTGCCAGCAGCCGCGGTAATACGTA
GGTGGCGAGCGTTGTCCGGAATTACTGGGCGTAAAGGGTGCGTAGGCGGCTCTTTAAGTGGGATGTGAAA
TCCCTGGGCTCAACCCAGGAACTGCATTCCAAACTGGGAGAGCTAGAGTGCAGGAGAGGAAAGCGGAATT
TCCCAGTGTAGCGGTGAAATGCGTAGAGATTGGGAGGAACACCAGTGGCGAAGGCGGCTTTCTGGACTGT
AACTGACGCTGAGGCACGAAAGCGT

>gi|646115888|gb|KJ479281.1| Uncultured bacterium clone A5521b05 16S ribosomal RNA gene, partial sequence
GGACGAACGCTGGCGGCGTGCCTAACACATGCAAGTCGAGCGGAGGGGATAGGAGCTTGCTTCTTGAACC
TCAGCGGGCGGACGGGTGAGTAACACGTGGGTAACCCTGCCCTTGAGAGGGGGATAACAGGTCGAAAGGC
CTGCTAATACCGCATAACGCTAAGAAGCTGCATGGGCGTCTTAGCCAAAGGTTAATTCCGCTCAAGGATG
GGGCCCCGCGGCCCCATTAGCTAGTTGGTGAGGTAATGGCTCACCAAGGCGACGATGGGTAGCCGGCCTG
AGAGGGTGGTCGGCCACACTGGGACTGAGACACGGCCCAGACTCCTACGGGAGGCAGCAGTGGGGAATAT
TGCGCAATGGGGGAAACCCTGACGCAGCGACGCCGCGTGAGCGATGAAGGCCTTCGGGTTGTAAAGCTCT
GTCTTCCCTGACGATAATGACGGTAAGGGAGGAGGAAGCCACGGCTAACTACGTGCCAGCAGCCGCGGTA
ATACGTAGGTGGCGAGCGTTGTCCGGAATTACTGGGCGTAAAGGGTGCGTAGGCGGCTCTTTAAGTGGGA
TGTGAAATCCCTGGGCTCAACCCAGGAACTGCATTCCAAACTGGAGAGCTAGAGTGCAGGAGAGGAAAGC
GGAATTCCCAGTGTAGCGGTGAAATGCGTAGAGATTGGGAGGAACACCAGTGGGCGAAGGCGGCTTTCTG
GACTGTAACTGACGCTGAGGCACGAAAGCGTGGGGAGCAAACAGGATTAGATACCCTGGTAGTCCACGCT
GTAAACGATGGGTACTAGGTGTAGGGGGCGAAGCCCTTTTTGCCGCAGCTAACGCATTAAGTACCCCGCC
TGGGGAGTACGGTCGCAAGATTAAAACTCAAAGGGAATTGACGGGGGCCCGCACAAGCAGCGGAGCATGT
GGTTTAATTCGAAGCAACGCGAAGAACCTTACCAGGGCTTGACATCCACCGAACCCTGTGGAAACACGGG
GGTGCCCTTCGGGGAACGGTGAGACAGGTGGTGCATGGTTGTCGTCAGCTCGTGTCGTGAGATGTTGGGT
TAAGTCCCGCAACGAGCGCAACCCTTGCCTTTAGTTGCCAGCAATTCGGTTGGGCACTCTAGAGGGACTG
CCTGGGTTAACCAGGAGGAAGGTGGGGATGACGTCAAATCATCATGCCCCTTATGCTCTGGGCTACACAC
GTGCTACAATGGCCGGTACAATGAGTTGCAAACCCGCGAGGGGGAGCTAATCTCAAAAACCGGTCCCAGT
TCGGATTGTAGGCTGCAACTCGCCTACATGAAGCTGGAGTTGCTAGTAATCGCGGATCAGCATGCCGCGG
TGAATACGTTCCCGGGCCTTGTACACACCGCCCGTCACACCATGAGAGCCGGCAACACCCGAAGCCAGTG
GGCTAACCCGCAAGGGAGGCAGCTGTCGAAGGTGGGGCTGGTGATTGGGGTG

>gi|646115889|gb|KJ479282.1| Uncultured bacterium clone A5521b06 16S ribosomal RNA gene, partial sequence
GGGTAGCCGACCTTGAGAGGGGTGATCGGGCCCACATTGGGACTGAGACCACGGGCCCCAGACTCCTTAC
GGGGAGGGCAGCAGTGGGGGAGTATTTGCACGAATGGGGGGAAAACCCTGGATTGCAAGCAAACGCCCGC
GTGAAGCGAAAGAAAGGGCTCTTTCGGGGTTTGTAAAAGCTCTGTTCTTTCCTCTGACGATAAATGAACG
GGTAAGGGGAAGGGAGGGAAAGCCCACGGGCTAAACTTACGTGCCCAGCAGCCCGCGGGTAAATACCGTT
AGGGTGGGCGAAGCGTTTGTCCCGGAAATTATTTGGGCGGTAAAGGGTGCCGTAGGCGGTTTTTTAAAGT
TGGGATGGTGAAATCCATGGGCTTTAACCCATGAATTGCATTTCCAAACTGGAAAGCTTTGAATGCAGAG
AGAAAGCGAATTCCCAGTGTAGCCGGTGAATGCGTAGATATGGGAGGAACACCCAGTGGGCGAAGGCGGC
TTTCTGGACTGTAACTGACGCTGAGGCACGAAAGCGTGGGGGAGCAAACAGGATTAGATACCGTGGTAGT
CACGCTGTAAACGATGGGTACTAGGTGTAGGGGGGCGTAGCCCTCTGGGCCGCAGTTAACACATTAAGTA
CCCCGCCTGGGAAGTACGATCGCAAGATTAAAACTCAAAGGAATTGACGGGGGCCCGCACAAGCAGCGGA
GCATGTGGTTTAATTCGAAGCAACGCGAAGAACCTTACCAGGGCTTGACATCCTACTAATCCTGTAGAGA
TACGGGAGTGCCCTTTTGGGAAAGTAGAGACAGGTGGTGCATGGTTGTCGTCAGCTCGTGTCGTGAGATG
TTGGGTTAAGTCCCGCAACGAGCGCAACCCCTGCCTTTAGTTGCCAGCATTAAGTTGGGCACTCTAAAGG
GACTGCTAGGGTTAACCTAGAGGAAGGTGGGGATGACGTCAAATCATCATGCCCTTTATGCCCTGGGCTA
CACACGTGCTACAATGGCCGGTACAAAGAGCAGCGAGGCCGCGAGGCGGAGCAAATCTTAAAAACCGGTC
CCAGTTCAGATTGTAGGCTGCAACTCGCCTACATGAAGCCGGAGTTGCTAGTAATCGCGAATCAGCATGT
CGCGGTGAATGCGTTCCCGGGCCTTGTACTCACCGCCCGTCACACCATGAGAGTCTGCAACGCCCGAAGT
CAGTGGGCTAACGCGAAAAGCGAGGCAGCTGCCGAAGGTGGGGCCGATGATTGGGGTTG

>gi|646115890|gb|KJ479283.1| Uncultured bacterium clone A5521b11 16S ribosomal RNA gene, partial sequence
GGACGAACGCTGGCGGCGTGCCTAACACATGCAAGTCGAGCGGAGGGGATAAGAGCTTGCTCTTTGAACC
TTAGCGGCGGACGGGTGAGTAACACGTGGGTAACCTGCCTCATGGAGGGGGATAACACTAAGAAATTGGT
GCTAATACCGCATAAAACCGTAGGGGTCACATGACCTAACGGTCAAAGATTTATCGCCATGAGATGGGCC
CGCGGCCCCATTAGCTTGTTGGTGAGGTAACGGCTCACCAAGGCGACGATGGGTAGCCGACCTGAGAGGG
TGATCGGCCACATTGGGACTGAGACACGGCCCAGACTCCTACGGGAGGCAGCAGTGGGGAATATTGCACA
ATGGGGGAAACCCTGATGCAGCAACGCCGCGTGAGCGAAGAAGGCCTTCGGGTTGTAAAGCTCTGTCTTC
CCTGACGATAATGACGGTAAGGGAGGAGGAAGCCACGGCTAACTACGTGCCAGCAGCCGCGGTAATACGT
AGGTGGCGAGCGTTGTCCGGAATTATTGGGCGTAAAGGGTGCGTAGGCGGTTTTTTAAGTGGGATGTGAA
ATCCATGGGCTTAACCCATGAATTGCATTCCAAACTGGAGAGCTAGAGTGCAGGAGAGGAAAGCGGAATT
CCCAGTGTAGCGGTGAAATGCGTAGAGATTGGGAGGAACACCAGTGGCGAAGGCGGCTTTCTGGACTGTA
ACTGACGCTGAGGCACGAAAGCGTGGGGAGCAAACAGGATTAGATACCCTGGTAGTCCACGCTGTAAACG
ATGGGTACTAGGTGTAGG


